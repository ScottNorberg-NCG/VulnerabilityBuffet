@using NCG.SecurityDetection.VulnerabilityBuffet.Data
@{
    ViewData["Title"] = "Safe File Upload";
}
@model SafeFileUploadViewModel

<partial name="_Menu" />
<div class="attack-page-content">
    <h1>@ViewData["Title"]</h1>
    <p>This page allows you to upload files in jpg, gif, and png format, no larger than 2MB. It does check file signatures, so this functionality is relatively safe.</p>
    <p>@ViewBag.Message</p>
    <form method="post" enctype="multipart/form-data" asp-action="SafeFileUpload">
        <div>
            <label for="FileName">File Name:</label>
            <input type="text" id="FileName" name="FileName" />
        </div>
        <div>
            <label for="FileBytes">File:</label>
            <input type="file" id="FileBytes" name="FileBytes" />
        </div>
        <button type="submit">Save</button>
    </form>
    <p>
        <h2>Uploaded Files</h2>
        @foreach (UserFile file in ViewBag.Files)
        {
            <div><a href="/AuthOnly/FileDownload/@file.FileID">Download @file.FileName</a></div>
        }
    </p>
</div>